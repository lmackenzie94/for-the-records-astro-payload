---
import { getSiteSettings } from '@/utils/payload/globals';
import PayloadImage from './PayloadImage.astro';
import ThemeToggleReact from './ThemeToggle.tsx';
// import ThemeToggleAstro from './ThemeToggle.astro';

const { logo } = await getSiteSettings();
---

<header class="mb-16 w-full">
  <div class="container">
    <nav class="flex items-center justify-between py-6">
      <h2
        class="text-gray-900 text-center text-base font-bold tracking-tight md:text-lg"
      >
        <a href="/">
          <!-- TODO: put an SVG of a vinyl record here  -->
          <!-- <span class="sr-only">Home</span> -->

          <!-- TODO: make spin animation persist across page changes using ViewTransitions  -->
          <PayloadImage
            src={logo}
            alt="Home"
            class="h-8 w-8 animate-[spin_2s_linear_infinite] dark:invert dark:filter"
          />
        </a>
      </h2>

      <div class="text-gray-900 flex items-center gap-10 text-sm font-medium">
        <a href="/records" class="font-mono tracking-tight">Records</a>
        <a href="/artists" class="font-mono tracking-tight">Artists</a>
        <!-- TODO: figure out why astro version causes flash when changing pages -->
        <!-- <ThemeToggleAstro /> -->

        <!-- client:load = high priority; load & hydrte component JS immediately on page load -->
        <ThemeToggleReact client:load />
      </div>
    </nav>
  </div>
</header>
