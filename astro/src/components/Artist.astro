---
import type { Artist, Genre } from '@/types';
import ArtistImage from './ArtistImage.astro';

interface Props {
  artist: Artist;
  class?: string;
}

const { artist, class: className } = Astro.props;

const genres: Genre[] = artist?.genres?.map((genre) => genre.title) || [];
---

<article class={className}>
  <a
    href={`/artists/${artist.slug}`}
    class="glossy-hover mb-2 block rounded-sm"
  >
    <ArtistImage artist={artist} transition:name={`artist-${artist.id}`} />
  </a>
  <p class="leading-5">{artist.name}</p>
  <p class="text-xs font-light text-gray-light">
    {genres.join(', ')}
  </p>
</article>
